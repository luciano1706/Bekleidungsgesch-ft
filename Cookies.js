!function(){"use strict";function createCookie(name,value,days){var expires="";if(days){var date=new Date;date.setTime(date.getTime()+24*days*60*60*1e3),expires="; expires="+date.toUTCString()}document.cookie=name+"="+value+expires+"; path=/"}function readCookie(name){for(var nameEQ=name+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf(nameEQ))return c.substring(nameEQ.length,c.length)}return null}function openHermesNL(){setTimeout(function(){$(".js-newsletter-lightcase-opener").click(),createCookie("newsletter_suscrption","ok",7),$("#lightcase-case").css({left:"-1200px"})},6500)}function openConfirmedNews(){$(".js-newsletter-ok-lightcase-opener").click(),$("#lightcase-case").css({left:"0"})}function openFailNews(){$(".js-newsletter-fail-lightcase-opener").click(),$("#lightcase-case").css({left:"0"})}new Date;$(document).on("click",".nl-image-close, .nl-close-btn",function(e){e.preventDefault(),lightcase.close(),createCookie("newsletter_suscrption","ok",7)}),$(".js-newsletter-modal").lightcase({maxWidth:960,maxHeight:640,left:0,showSequenceInfo:!1,showTitle:!1}),$(".js-newsletter-modal-ok").lightcase({maxWidth:960,maxHeight:640,left:0,showSequenceInfo:!1,showTitle:!1}),$(".js-newsletter-modal-fail").lightcase({maxWidth:960,maxHeight:640,left:0,showSequenceInfo:!1,showTitle:!1});var x=readCookie("newsletter_suscrption");x||openHermesNL();var newsletterModalSubmit=".js-newsletter-modal-send";$(document).on("ajax:beforeSend",".js-newsletter-modal-form",function(){$(newsletterModalSubmit).val(I18n.t("shared.news.sending")),$(newsletterModalSubmit).prop("disabled",!0)}).on("ajax:success",".js-newsletter-modal-form",function(){openConfirmedNews()}).on("ajax:error",".js-newsletter-modal-form",function(event,data,status){openFailNews()}).on("ajax:complete",".js-newsletter-modal-form",function(){$(newsletterModalSubmit).val(I18n.t("shared.news.send")),$(newsletterModalSubmit).prop("disabled",!1),$(newsletterModalSubmit).css("opacity",1)})}();